{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useStoreState } from \"easy-peasy\";\nimport { Link } from \"react-router-dom\";\nimport ReactAutolinker from \"react-autolinker\";\nimport ReactModal from \"react-modal\";\nimport DatePicker from \"react-mobile-datepicker\";\nimport { apiUrl } from \"../../src/client/baseUrl\";\nimport Resizer from \"../../src/client/Components/Tools/Resizer\";\nimport moment from \"moment\";\nexport function getServerSideProps(_x) {\n  return _getServerSideProps.apply(this, arguments);\n}\n\nfunction _getServerSideProps() {\n  _getServerSideProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(context) {\n    var res, program;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fetch(\"\".concat(apiUrl(), \"/program/getProgram\"), {\n              method: \"POST\",\n              body: JSON.stringify({\n                url: context.query.program\n              }),\n              headers: {\n                \"Content-Type\": \"application/json\"\n              }\n            });\n\n          case 2:\n            res = _context2.sent;\n            _context2.next = 5;\n            return res.json();\n\n          case 5:\n            program = _context2.sent;\n            return _context2.abrupt(\"return\", {\n              props: {\n                program: program\n              }\n            });\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getServerSideProps.apply(this, arguments);\n}\n\nexport default function Application(props) {\n  var _useParams = useParams(),\n      program = _useParams.program;\n\n  var auth = useStoreState(function (state) {\n    return state.user.auth;\n  });\n  var small = useStoreState(function (state) {\n    return state.app.small;\n  });\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(props === null || props === void 0 ? void 0 : props.program),\n      _useState4 = _slicedToArray(_useState3, 2),\n      programInfo = _useState4[0],\n      setProgram = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      editing = _useState6[0],\n      setEditing = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      confirmOpen = _useState8[0],\n      setConfirmOpen = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      showStartDate = _useState10[0],\n      setShowStartDate = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      showEndDate = _useState12[0],\n      setShowEndDate = _useState12[1];\n\n  useEffect(function () {\n    if (auth && auth.token) {\n      fetch(\"\".concat(apiUrl(), \"/getAccount\"), {\n        method: \"GET\",\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": auth.token\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        return setUser(json);\n      });\n    }\n  }, []);\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      programSubmitting = _useState14[0],\n      setProgramSubmitting = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      updateErr = _useState16[0],\n      setUpdateErr = _useState16[1];\n\n  var updateProgram = function updateProgram(e) {\n    e.preventDefault();\n    if (!programInfo.name || !programInfo.url || !programInfo.description || !programInfo.logistics || !programInfo.criteria) setUpdateErr(\"Please fill out all required fields\");\n    if (moment(programInfo.open).add(1, \"day\").toDate() > new Date(programInfo.close)) setUpdateErr(\"Your closing date must be at least one day after opening date\");else {\n      setUpdateErr(false);\n      setProgramSubmitting(true);\n      fetch(\"\".concat(apiUrl(), \"/program/updateProgram\"), {\n        method: \"POST\",\n        body: JSON.stringify(_objectSpread(_objectSpread({}, programInfo), {}, {\n          org: programInfo.organizers[0].id\n        })),\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": auth.token\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.success) {\n          setEditing(false);\n          setProgramSubmitting(false);\n        } else {\n          setUpdateErr(json.error);\n        }\n      });\n    }\n  };\n\n  var _useState17 = useState({}),\n      _useState18 = _slicedToArray(_useState17, 2),\n      data = _useState18[0],\n      setData = _useState18[1];\n\n  var uploadHandler = function uploadHandler(target) {\n    setErr(false);\n    var file = target.files[0];\n    var reader = new FileReader();\n    var ext = target.value.substr(target.value.length - 3).toLowerCase();\n    reader.readAsDataURL(file);\n    var responsetype;\n    reader.onload = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (ext === \"jpg\" || ext === \"jpeg\") responsetype = \"image/jpeg\";\n              if (ext === \"png\") responsetype = \"image/png\";\n              if (ext === \"gif\") responsetype = \"image/gif\";\n              if (ext === \"ebp\") responsetype = \"image/webp\";\n              if (ext === \"mp4\") responsetype = \"video/mp4\";\n\n              if (file.size < 120000000) {\n                if (responsetype) {\n                  setData(_objectSpread(_objectSpread({}, data), {}, {\n                    art: reader.result,\n                    ext: ext,\n                    key: Math.random()\n                  }));\n                } else {\n                  setErr(\"File type unsupported\");\n                }\n              } else {\n                setErr(\"File size too large\");\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n  };\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      submitting = _useState20[0],\n      setSubmitting = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      submitted = _useState22[0],\n      setSubmitted = _useState22[1];\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      err = _useState24[0],\n      setErr = _useState24[1];\n\n  var preSubmit = function preSubmit() {\n    if (!data.art) setErr(\"No artwork selected\");else if (!data.statement) setErr(\"Please write a statement of intent\");else if (!data.title || !data.description) setErr(\"Please provide an artwork title and description\");else if (!user) setErr(\"Please log in to submit\");else if (auth && !auth.wallet) setErr(\"Please verify a wallet to submit\");else if (user && !user.user.emailVerified) setErr(\"Please verify your email to submit\");else if (user && (!user.user.artistName || !user.user.city || !user.user.country || !user.user.twitter || !user.user.website)) setErr(\"Please complete your user profile to submit\");else setConfirmOpen(true);\n  };\n\n  var submit = function submit(e) {\n    setConfirmOpen(false);\n    e.preventDefault();\n    if (!data.art) setErr(\"No artwork selected\");else if (!data.statement) setErr(\"Please write a statement of intent\");else if (!data.title || !data.description) setErr(\"Please provide an artwork title and description\");else if (!data.canvas) setErr(\"Please specify the tools used for your artwork\");else if (!user) setErr(\"Please log in to submit\");else if (auth && !auth.wallet) setErr(\"Please verify a wallet to submit\");else if (user && !user.user.emailVerified) setErr(\"Please verify your email to submit\");else if (user && (!user.user.artistName || !user.user.city || !user.user.country || !user.user.twitter || !user.user.website)) setErr(\"Please complete your user profile to submit\");else {\n      setErr(false);\n      setSubmitting(true);\n      fetch(\"\".concat(apiUrl(), \"/program/submitApplication\"), {\n        method: \"POST\",\n        body: JSON.stringify(_objectSpread(_objectSpread({}, data), {}, {\n          program: programInfo._id\n        })),\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": auth.token\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json && json.error) {\n          setErr(json.error);\n          setSubmitting(false);\n        } else setSubmitted(true);\n      });\n    }\n  };\n\n  var dropdownDefault = data.minted === undefined ? \"default\" : \"\".concat(data.minted);\n  var isAdmin = false;\n  if (programInfo) isAdmin = auth && programInfo.organizers[0].admins.findIndex(function (admin) {\n    return admin === auth.id;\n  }) >= 0;\n  var applied;\n  if (user && user.applications && programInfo) applied = user.applications.find(function (e) {\n    return e.program === programInfo.id;\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-block\"\n  }, programInfo && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(showStartDate ? \"absolute-container\" : \"hidden absolute-container\")\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    dateConfig: dateConfig,\n    isOpen: showStartDate,\n    confirmText: \"Confirm\",\n    cancelText: \"Cancel\",\n    customHeader: /*#__PURE__*/React.createElement(\"div\", null, moment(programInfo.open).format(\"ddd MMM Do h:mm A\")),\n    showCaption: true,\n    value: new Date(programInfo.open || new Date()),\n    onChange: function onChange(e) {\n      return setProgram(_objectSpread(_objectSpread({}, programInfo), {}, {\n        open: new Date(new Date(e).setMinutes(0))\n      }));\n    },\n    onSelect: function onSelect() {\n      return setShowStartDate(false);\n    },\n    onCancel: function onCancel() {\n      return setShowStartDate(false);\n    },\n    isPopup: false\n  })), programInfo && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(showEndDate ? \"absolute-container\" : \"hidden absolute-container\")\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    dateConfig: dateConfig,\n    isOpen: showEndDate,\n    confirmText: \"Confirm\",\n    cancelText: \"Cancel\",\n    customHeader: /*#__PURE__*/React.createElement(\"div\", null, moment(programInfo.close).format(\"ddd MMM Do h:mm A\")),\n    showCaption: true,\n    value: new Date(programInfo.close || new Date()),\n    onChange: function onChange(e) {\n      return setProgram(_objectSpread(_objectSpread({}, programInfo), {}, {\n        close: new Date(new Date(e).setMinutes(0))\n      }));\n    },\n    onSelect: function onSelect() {\n      return setShowEndDate(false);\n    },\n    onCancel: function onCancel() {\n      return setShowEndDate(false);\n    },\n    isPopup: false\n  })), /*#__PURE__*/React.createElement(Resizer, null), /*#__PURE__*/React.createElement(ReactModal, {\n    isOpen: confirmOpen,\n    style: {\n      content: {\n        margin: \"auto\",\n        width: \"15rem\",\n        height: \"23rem\"\n      }\n    },\n    onRequestClose: function onRequestClose() {\n      return setConfirmOpen(false);\n    },\n    shouldCloseOnOverlayClick: true,\n    ariaHideApp: false\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s font\"\n  }, \"By submitting your artwork you agree to and honor the grant logistics and criteria and will not mint your piece elsewhere before the curation process is completed.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Cancel\",\n    className: \"small-button\",\n    onClick: function onClick() {\n      return setConfirmOpen(false);\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    className: \"small-button margin-left-s\",\n    onClick: submit\n  }))), /*#__PURE__*/React.createElement(\"div\", null, programInfo && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-l flex\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, programInfo.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-full\"\n  }), isAdmin && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s center text-grey pointer\",\n    onClick: function onClick() {\n      return setEditing(true);\n    }\n  }, \"Edit Program\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s margin-top-s\"\n  }, \"Curated by\\xA0\", /*#__PURE__*/React.createElement(\"strong\", null, /*#__PURE__*/React.createElement(Link, {\n    className: \"text-rainbow pointer\",\n    href: \"/curator/\".concat(doDashes(programInfo.organizers[0].name))\n  }, programInfo.organizers[0].name))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top\"\n  }, !editing && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s line-breaks\"\n  }, /*#__PURE__*/React.createElement(ReactAutolinker, {\n    text: programInfo.description\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-l text-s line-breaks\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, \"Grant Logistics\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s line-breaks\"\n  }, /*#__PURE__*/React.createElement(ReactAutolinker, {\n    text: programInfo.logistics\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top text-s\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, \"Submission Criteria\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s\"\n  }, /*#__PURE__*/React.createElement(ReactAutolinker, {\n    text: programInfo.criteria\n  })))), editing && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form__field\",\n    placeholder: \"Program Name\",\n    name: \"name\",\n    id: \"name\",\n    required: true,\n    maxLength: \"100\",\n    value: programInfo.name,\n    onChange: function onChange(e) {\n      return setProgram(_objectSpread(_objectSpread({}, programInfo), {}, {\n        name: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Program Name\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form__field\",\n    placeholder: \"Program Name\",\n    name: \"name\",\n    id: \"name\",\n    required: true,\n    maxLength: \"100\",\n    value: programInfo.url,\n    onChange: function onChange(e) {\n      return setProgram(_objectSpread(_objectSpread({}, programInfo), {}, {\n        url: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"URL Permalink\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s margin-top-s\"\n  }, \"Program Applicant URL:\", \" \", \"https://grants.art/apply/\".concat(programInfo.url ? programInfo.url : \"\", \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"form__field intent-field\",\n    placeholder: \"Intent\",\n    name: \"intent\",\n    id: \"intent\",\n    required: true,\n    maxLength: \"2000\",\n    value: programInfo.description,\n    onChange: function onChange(e) {\n      return setProgram(_objectSpread(_objectSpread({}, programInfo), {}, {\n        description: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Program Description (2000 Chars)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"form__field intent-field\",\n    placeholder: \"Intent\",\n    name: \"intent\",\n    id: \"intent\",\n    required: true,\n    maxLength: \"300\",\n    value: programInfo.tagline,\n    onChange: function onChange(e) {\n      return setProgram(_objectSpread(_objectSpread({}, programInfo), {}, {\n        tagline: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Program Tagline (Home Page)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"form__field intent-field\",\n    placeholder: \"Intent\",\n    name: \"intent\",\n    id: \"intent\",\n    required: true,\n    maxLength: \"2000\",\n    value: programInfo.logistics,\n    onChange: function onChange(e) {\n      return setProgram(_objectSpread(_objectSpread({}, programInfo), {}, {\n        logistics: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Grant Logistics (2000 Chars)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"form__field intent-field\",\n    placeholder: \"Intent\",\n    name: \"intent\",\n    id: \"intent\",\n    required: true,\n    maxLength: \"2000\",\n    value: programInfo.criteria,\n    onChange: function onChange(e) {\n      return setProgram(_objectSpread(_objectSpread({}, programInfo), {}, {\n        criteria: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Applicant Criteria (2000 Chars)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form__field\",\n    placeholder: \"Intent\",\n    name: \"intent\",\n    id: \"intent\",\n    required: true,\n    maxLength: \"50\",\n    value: programInfo.passcode,\n    onChange: function onChange(e) {\n      return setProgram(_objectSpread(_objectSpread({}, programInfo), {}, {\n        passcode: e.target.value,\n        isProtected: e.target.value ? true : false\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Secret phrase to submit (Optional)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s text-s\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, \"Submissions Open Time\"), /*#__PURE__*/React.createElement(\"br\", null), programInfo.open ? moment(programInfo.open).format(\"ddd MMM Do h:mm A\") : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-xs\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Set Open Date\",\n    className: \"small-button\",\n    onClick: function onClick() {\n      return setShowStartDate(true);\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s text-s\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, \"Submissions Close Time\"), /*#__PURE__*/React.createElement(\"br\", null), programInfo.close ? moment(programInfo.close).format(\"ddd MMM Do h:mm A\") : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-xs\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Set Close Date\",\n    className: \"small-button\",\n    onClick: function onClick() {\n      return setShowEndDate(true);\n    }\n  })), updateErr && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top text-s text-err\"\n  }, updateErr), programSubmitting && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top text-s text-grey\"\n  }, \"Your program is being updated..\"), !programSubmitting && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Cancel\",\n    className: \"submit-button\",\n    onClick: function onClick() {\n      return setEditing(false);\n    }\n  }), \"\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Update Program\",\n    className: \"submit-button\",\n    onClick: function onClick(e) {\n      return updateProgram(e);\n    }\n  }))))), !applied ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top text-l\"\n  }, \"Art Submission Form\"), program === \"genesis\" && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s margin-top form__title\"\n  }, \"Have you sold your own NFT before?\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select-dropdown margin-top-minus\"\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Mint\",\n    className: \"text-black\",\n    defaultValue: dropdownDefault,\n    value: dropdownDefault,\n    required: true,\n    onChange: function onChange(e) {\n      return setData(_objectSpread(_objectSpread({}, data), {}, {\n        minted: e.target.value\n      }));\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"default\",\n    disabled: true,\n    hidden: true\n  }, \"Select an option\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"false\"\n  }, \"No\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"true\"\n  }, \"Yes\")))), programInfo && programInfo.isProtected && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form__field\",\n    placeholder: \"Name\",\n    name: \"name\",\n    id: \"name\",\n    maxLength: \"100\",\n    onChange: function onChange(e) {\n      return setData(_objectSpread(_objectSpread({}, data), {}, {\n        passcode: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Secret Phrase\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"form__field intent-field\",\n    placeholder: \"Intent\",\n    name: \"intent\",\n    id: \"intent\",\n    required: true,\n    maxLength: \"2000\",\n    onChange: function onChange(e) {\n      return setData(_objectSpread(_objectSpread({}, data), {}, {\n        statement: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Statement of Intent (2000 chars)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"form__field intent-field\",\n    placeholder: \"Additional\",\n    name: \"additional\",\n    id: \"additional\",\n    maxLength: \"2000\",\n    onChange: function onChange(e) {\n      return setData(_objectSpread(_objectSpread({}, data), {}, {\n        additional: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Additional Information (Optional 2000 chars)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form__field\",\n    placeholder: \"Name\",\n    name: \"name\",\n    id: \"name\",\n    maxLength: \"100\",\n    onChange: function onChange(e) {\n      return setData(_objectSpread(_objectSpread({}, data), {}, {\n        title: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Artwork Title\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"form__field intent-field\",\n    placeholder: \"Description\",\n    name: \"description\",\n    id: \"description\",\n    maxLength: \"1000\",\n    onChange: function onChange(e) {\n      return setData(_objectSpread(_objectSpread({}, data), {}, {\n        description: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Artwork Description\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form__field\",\n    placeholder: \"Name\",\n    name: \"name\",\n    id: \"name\",\n    maxLength: \"100\",\n    onChange: function onChange(e) {\n      return setData(_objectSpread(_objectSpread({}, data), {}, {\n        canvas: e.target.value\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label\"\n  }, \"Tools Used (e.g. C4D, Octane)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__group field\"\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"file__label\"\n  }, \"Art Submission (JPG, PNG, GIF, WEBP, or MP4 - Max 77MB)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"form__field\",\n    placeholder: \"Artwork\",\n    name: \"artwork\",\n    id: \"name\",\n    accept: \"image/jpeg, image/png, image/gif, image/webp, video/mp4\",\n    required: true,\n    onChange: function onChange(e) {\n      return uploadHandler(e.target);\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-l\"\n  }, \"Submission Preview\"), user && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top gallery-container full-width\"\n  }, !small && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery-description\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery-plate metal linear\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, user.user.artistName || \"Missing Artist Name\"), /*#__PURE__*/React.createElement(\"br\", null), user.user.country || \"Missing Country\", \" \", \"(b. \".concat(user.user.birthYear || \"Missing Birth Year\", \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s text-s text-b\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, /*#__PURE__*/React.createElement(\"i\", null, data.title || \"Missing Art Title\")), \", 2021\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-xs\"\n  }, data.canvas)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s text-xs\"\n  }, data.description || \"Missing Description\")))), data.art && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-full center \".concat(small ? \"gallery-frame-container-small\" : \"gallery-frame-container\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"frame gallery-art-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"frame-shadow\"\n  }, data.ext === \"mp4\" || data.ext === \"mov\" ? /*#__PURE__*/React.createElement(\"video\", {\n    muted: true,\n    loop: true,\n    autoPlay: true,\n    \"webkit-playsinline\": \"true\",\n    playsInline: true,\n    className: \"gallery-art\",\n    key: data.key\n  }, /*#__PURE__*/React.createElement(\"source\", {\n    src: data.art\n  }), \"Sorry, your browser doesn't support embedded videos.\") : /*#__PURE__*/React.createElement(\"img\", {\n    className: \"gallery-art\",\n    src: data.art\n  })))), small && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top gallery-description\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery-plate metal linear\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, user.user.artistName), /*#__PURE__*/React.createElement(\"br\", null), user.user.country, \" \", user.user.birthYear && \"(b. \".concat(user.user.birthYear, \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s text-s text-b\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, /*#__PURE__*/React.createElement(\"i\", null, data.title || \"Untitled\")), \", 2021\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-xs\"\n  }, data.canvas)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s text-xs\"\n  }, data.description))))), err && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top text-s text-err\"\n  }, err), submitting && !submitted && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top text-s text-grey\"\n  }, \"Your artwork is being submitted..\"), submitted && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top text-s text-rainbow\"\n  }, \"Thank you for submitting your artwork!\", /*#__PURE__*/React.createElement(\"br\", null), \"The curation team is excited to check out your submission :)\"), /*#__PURE__*/React.createElement(\"div\", null, !user && /*#__PURE__*/React.createElement(Link, {\n    href: \"/login\",\n    className: \"margin-top text-mid text-grey\"\n  }, \"You must be logged in to submit an artwork\"), user && auth && (!auth.wallet || !user.user.emailVerified || !user.user.artistName || !user.user.city || !user.user.country || !user.user.twitter || !user.user.website) && /*#__PURE__*/React.createElement(Link, {\n    href: \"/account\",\n    className: \"margin-top text-mid text-grey\"\n  }, \"You must complete your user profile and verify wallet & email to submit an artwork\")), programInfo && !submitting && !submitted && user && new Date() > new Date(programInfo.open) && new Date() < new Date(programInfo.close) && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit Artwork\",\n    className: \"submit-button\",\n    onClick: function onClick() {\n      return preSubmit();\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-l\"\n  }, \"Art Submission\"), applied.published ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top\"\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"/\".concat(programInfo.url, \"/\").concat(applied.order),\n    className: \"text-rainbow\"\n  }, \"Minted In Exhibition\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top text-mid\"\n  }, \"Status:\", \" \", applied.finalized ? \"Deferred\" : \"Pending Curation Review\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top gallery-container full-width\"\n  }, !small && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery-description\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery-plate metal linear\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, user.user.artistName), /*#__PURE__*/React.createElement(\"br\", null), user.user.country, \" \", user.user.birthYear && \"(b. \".concat(user.user.birthYear, \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s text-s text-b\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, /*#__PURE__*/React.createElement(\"i\", null, applied.title || \"Untitled\")), \", 2021\", /*#__PURE__*/React.createElement(\"br\", null), applied.canvas ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-xs\"\n  }, applied.canvas) : /*#__PURE__*/React.createElement(\"div\", null, applied.art.split(\".\")[1].toUpperCase(), \" as NFT\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s text-xs\"\n  }, applied.description)))), applied.art && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-full center \".concat(small ? \"gallery-frame-container-small\" : \"gallery-frame-container\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"frame gallery-art-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"frame-shadow\"\n  }, applied.art.split(\".\")[1] === \"mp4\" || applied.art.split(\".\")[1] === \"mov\" ? /*#__PURE__*/React.createElement(\"video\", {\n    muted: true,\n    loop: true,\n    autoPlay: true,\n    \"webkit-playsinline\": \"true\",\n    playsInline: true,\n    className: \"gallery-art\"\n  }, /*#__PURE__*/React.createElement(\"source\", {\n    src: \"https://cdn.grants.art/\".concat(applied.art)\n  }), \"Sorry, your browser doesn't support embedded videos.\") : /*#__PURE__*/React.createElement(\"img\", {\n    className: \"gallery-art\",\n    src: \"https://cdn.grants.art/\".concat(applied.art)\n  })))), small && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top gallery-description\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery-plate metal linear\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-s\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, user.user.artistName), /*#__PURE__*/React.createElement(\"br\", null), user.user.country, \" \", user.user.birthYear && \"(b. \".concat(user.user.birthYear, \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s text-s text-b\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, /*#__PURE__*/React.createElement(\"i\", null, applied.title || \"Untitled\")), \", 2021\", /*#__PURE__*/React.createElement(\"br\", null), applied.canvas ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-xs\"\n  }, applied.canvas) : /*#__PURE__*/React.createElement(\"div\", null, applied.art.split(\".\")[1].toUpperCase(), \" as NFT\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top-s text-xs\"\n  }, applied.description)))))), programInfo && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-top text-mid\"\n  }, /*#__PURE__*/React.createElement(\"em\", null, new Date() > new Date(programInfo.open) && new Date() < new Date(programInfo.close) && /*#__PURE__*/React.createElement(\"div\", null, \"Submissions are open until\", \" \", moment(programInfo.close).format(\"ddd MMM Do h:mm A\")), new Date() < new Date(programInfo.open) && new Date() < new Date(programInfo.close) && /*#__PURE__*/React.createElement(\"div\", null, \"Submissions will open\", \" \", moment(programInfo.open).format(\"ddd MMM Do h:mm A\"), \" and close\", \" \", moment(programInfo.close).format(\"ddd MMM Do h:mm A\")), new Date() > new Date(programInfo.close) && /*#__PURE__*/React.createElement(\"div\", null, \"Submissions are closed\"))), /*#__PURE__*/React.createElement(\"br\", null)));\n}\nvar monthMap = {\n  \"1\": \"Jan\",\n  \"2\": \"Feb\",\n  \"3\": \"Mar\",\n  \"4\": \"Apr\",\n  \"5\": \"May\",\n  \"6\": \"Jun\",\n  \"7\": \"Jul\",\n  \"8\": \"Aug\",\n  \"9\": \"Sep\",\n  \"10\": \"Oct\",\n  \"11\": \"Nov\",\n  \"12\": \"Dec\"\n};\nvar dateConfig = {\n  month: {\n    format: function format(value) {\n      return monthMap[value.getMonth() + 1];\n    },\n    caption: \"Month\",\n    step: 1\n  },\n  date: {\n    format: \"DD\",\n    caption: \"Day\",\n    step: 1\n  },\n  hour: {\n    format: \"hh\",\n    caption: \"Hour\",\n    step: 1\n  }\n};","map":{"version":3,"sources":["/Users/kirilclimson/grants/pages/apply/[program].js"],"names":["React","useEffect","useState","useParams","useStoreState","Link","ReactAutolinker","ReactModal","DatePicker","apiUrl","Resizer","moment","getServerSideProps","context","fetch","method","body","JSON","stringify","url","query","program","headers","res","json","props","Application","auth","state","user","small","app","setUser","programInfo","setProgram","editing","setEditing","confirmOpen","setConfirmOpen","showStartDate","setShowStartDate","showEndDate","setShowEndDate","token","then","programSubmitting","setProgramSubmitting","updateErr","setUpdateErr","updateProgram","e","preventDefault","name","description","logistics","criteria","open","add","toDate","Date","close","org","organizers","id","success","error","data","setData","uploadHandler","target","setErr","file","files","reader","FileReader","ext","value","substr","length","toLowerCase","readAsDataURL","responsetype","onload","size","art","result","key","Math","random","submitting","setSubmitting","submitted","setSubmitted","err","preSubmit","statement","title","wallet","emailVerified","artistName","city","country","twitter","website","submit","canvas","_id","dropdownDefault","minted","undefined","isAdmin","admins","findIndex","admin","applied","applications","find","dateConfig","format","setMinutes","content","margin","width","height","doDashes","tagline","passcode","isProtected","additional","birthYear","published","order","finalized","split","toUpperCase","monthMap","month","getMonth","caption","step","date","hour"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useStoreState } from \"easy-peasy\";\nimport { Link } from \"react-router-dom\";\nimport ReactAutolinker from \"react-autolinker\";\nimport ReactModal from \"react-modal\";\nimport DatePicker from \"react-mobile-datepicker\";\n\nimport { apiUrl } from \"../../src/client/baseUrl\";\nimport Resizer from \"../../src/client/Components/Tools/Resizer\";\nimport moment from \"moment\";\n\nexport async function getServerSideProps(context) {\n  const res = await fetch(`${apiUrl()}/program/getProgram`, {\n    method: \"POST\",\n    body: JSON.stringify({ url: context.query.program }),\n    headers: { \"Content-Type\": \"application/json\" },\n  });\n\n  const program = await res.json();\n  return { props: { program } };\n}\n\nexport default function Application(props) {\n  const { program } = useParams();\n  const auth = useStoreState((state) => state.user.auth);\n  const small = useStoreState((state) => state.app.small);\n\n  const [user, setUser] = useState(null);\n  const [programInfo, setProgram] = useState(props?.program);\n  const [editing, setEditing] = useState(false);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [showStartDate, setShowStartDate] = useState(false);\n  const [showEndDate, setShowEndDate] = useState(false);\n\n  useEffect(() => {\n    if (auth && auth.token) {\n      fetch(`${apiUrl()}/getAccount`, {\n        method: \"GET\",\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": auth.token,\n        },\n      })\n        .then((res) => res.json())\n        .then((json) => setUser(json));\n    }\n  }, []);\n\n  const [programSubmitting, setProgramSubmitting] = useState(false);\n  const [updateErr, setUpdateErr] = useState(false);\n  const updateProgram = (e) => {\n    e.preventDefault();\n    if (\n      !programInfo.name ||\n      !programInfo.url ||\n      !programInfo.description ||\n      !programInfo.logistics ||\n      !programInfo.criteria\n    )\n      setUpdateErr(\"Please fill out all required fields\");\n    if (\n      moment(programInfo.open).add(1, \"day\").toDate() >\n      new Date(programInfo.close)\n    )\n      setUpdateErr(\n        \"Your closing date must be at least one day after opening date\"\n      );\n    else {\n      setUpdateErr(false);\n      setProgramSubmitting(true);\n      fetch(`${apiUrl()}/program/updateProgram`, {\n        method: \"POST\",\n        body: JSON.stringify({\n          ...programInfo,\n          org: programInfo.organizers[0].id,\n        }),\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": auth.token,\n        },\n      })\n        .then((res) => res.json())\n        .then((json) => {\n          if (json.success) {\n            setEditing(false);\n            setProgramSubmitting(false);\n          } else {\n            setUpdateErr(json.error);\n          }\n        });\n    }\n  };\n\n  const [data, setData] = useState({});\n  const uploadHandler = (target) => {\n    setErr(false);\n    const file = target.files[0];\n    const reader = new FileReader();\n    const ext = target.value.substr(target.value.length - 3).toLowerCase();\n    reader.readAsDataURL(file);\n    let responsetype;\n    reader.onload = async () => {\n      if (ext === \"jpg\" || ext === \"jpeg\") responsetype = \"image/jpeg\";\n      if (ext === \"png\") responsetype = \"image/png\";\n      if (ext === \"gif\") responsetype = \"image/gif\";\n      if (ext === \"ebp\") responsetype = \"image/webp\";\n      if (ext === \"mp4\") responsetype = \"video/mp4\";\n\n      if (file.size < 120000000) {\n        if (responsetype) {\n          setData({ ...data, art: reader.result, ext, key: Math.random() });\n        } else {\n          setErr(\"File type unsupported\");\n        }\n      } else {\n        setErr(\"File size too large\");\n      }\n    };\n  };\n\n  const [submitting, setSubmitting] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const [err, setErr] = useState(false);\n  const preSubmit = () => {\n    if (!data.art) setErr(\"No artwork selected\");\n    else if (!data.statement) setErr(\"Please write a statement of intent\");\n    else if (!data.title || !data.description)\n      setErr(\"Please provide an artwork title and description\");\n    else if (!user) setErr(\"Please log in to submit\");\n    else if (auth && !auth.wallet) setErr(\"Please verify a wallet to submit\");\n    else if (user && !user.user.emailVerified)\n      setErr(\"Please verify your email to submit\");\n    else if (\n      user &&\n      (!user.user.artistName ||\n        !user.user.city ||\n        !user.user.country ||\n        !user.user.twitter ||\n        !user.user.website)\n    )\n      setErr(\"Please complete your user profile to submit\");\n    else setConfirmOpen(true);\n  };\n\n  const submit = (e) => {\n    setConfirmOpen(false);\n    e.preventDefault();\n    if (!data.art) setErr(\"No artwork selected\");\n    else if (!data.statement) setErr(\"Please write a statement of intent\");\n    else if (!data.title || !data.description)\n      setErr(\"Please provide an artwork title and description\");\n    else if (!data.canvas)\n      setErr(\"Please specify the tools used for your artwork\");\n    else if (!user) setErr(\"Please log in to submit\");\n    else if (auth && !auth.wallet) setErr(\"Please verify a wallet to submit\");\n    else if (user && !user.user.emailVerified)\n      setErr(\"Please verify your email to submit\");\n    else if (\n      user &&\n      (!user.user.artistName ||\n        !user.user.city ||\n        !user.user.country ||\n        !user.user.twitter ||\n        !user.user.website)\n    )\n      setErr(\"Please complete your user profile to submit\");\n    else {\n      setErr(false);\n      setSubmitting(true);\n      fetch(`${apiUrl()}/program/submitApplication`, {\n        method: \"POST\",\n        body: JSON.stringify({ ...data, program: programInfo._id }),\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": auth.token,\n        },\n      })\n        .then((res) => res.json())\n        .then((json) => {\n          if (json && json.error) {\n            setErr(json.error);\n            setSubmitting(false);\n          } else setSubmitted(true);\n        });\n    }\n  };\n\n  const dropdownDefault =\n    data.minted === undefined ? \"default\" : `${data.minted}`;\n  let isAdmin = false;\n  if (programInfo)\n    isAdmin =\n      auth &&\n      programInfo.organizers[0].admins.findIndex(\n        (admin) => admin === auth.id\n      ) >= 0;\n  let applied;\n  if (user && user.applications && programInfo)\n    applied = user.applications.find((e) => e.program === programInfo.id);\n\n  return (\n    <div className=\"content-block\">\n      {programInfo && (\n        <div\n          className={`${\n            showStartDate ? \"absolute-container\" : \"hidden absolute-container\"\n          }`}\n        >\n          <DatePicker\n            dateConfig={dateConfig}\n            isOpen={showStartDate}\n            confirmText=\"Confirm\"\n            cancelText=\"Cancel\"\n            customHeader={\n              <div>{moment(programInfo.open).format(\"ddd MMM Do h:mm A\")}</div>\n            }\n            showCaption\n            value={new Date(programInfo.open || new Date())}\n            onChange={(e) =>\n              setProgram({\n                ...programInfo,\n                open: new Date(new Date(e).setMinutes(0)),\n              })\n            }\n            onSelect={() => setShowStartDate(false)}\n            onCancel={() => setShowStartDate(false)}\n            isPopup={false}\n          />\n        </div>\n      )}\n      {programInfo && (\n        <div\n          className={`${\n            showEndDate ? \"absolute-container\" : \"hidden absolute-container\"\n          }`}\n        >\n          <DatePicker\n            dateConfig={dateConfig}\n            isOpen={showEndDate}\n            confirmText=\"Confirm\"\n            cancelText=\"Cancel\"\n            customHeader={\n              <div>{moment(programInfo.close).format(\"ddd MMM Do h:mm A\")}</div>\n            }\n            showCaption\n            value={new Date(programInfo.close || new Date())}\n            onChange={(e) =>\n              setProgram({\n                ...programInfo,\n                close: new Date(new Date(e).setMinutes(0)),\n              })\n            }\n            onSelect={() => setShowEndDate(false)}\n            onCancel={() => setShowEndDate(false)}\n            isPopup={false}\n          />\n        </div>\n      )}\n      <Resizer />\n      <ReactModal\n        isOpen={confirmOpen}\n        style={{ content: { margin: \"auto\", width: \"15rem\", height: \"23rem\" } }}\n        onRequestClose={() => setConfirmOpen(false)}\n        shouldCloseOnOverlayClick={true}\n        ariaHideApp={false}\n      >\n        <div className=\"text-s font\">\n          By submitting your artwork you agree to and honor the grant logistics\n          and criteria and will not mint your piece elsewhere before the\n          curation process is completed.\n          <br />\n          <br />\n          <input\n            type=\"submit\"\n            value=\"Cancel\"\n            className=\"small-button\"\n            onClick={() => setConfirmOpen(false)}\n          />\n          <input\n            type=\"submit\"\n            value=\"Submit\"\n            className=\"small-button margin-left-s\"\n            onClick={submit}\n          />\n        </div>\n      </ReactModal>\n      <div>\n        {programInfo && (\n          <div>\n            <div className=\"text-l flex\">\n              <strong>{programInfo.name}</strong>\n              <div className=\"flex-full\" />\n              {isAdmin && (\n                <div\n                  className=\"text-s center text-grey pointer\"\n                  onClick={() => setEditing(true)}\n                >\n                  Edit Program\n                </div>\n              )}\n            </div>\n            <div className=\"text-s margin-top-s\">\n              Curated by&nbsp;\n              <strong>\n                <Link\n                  className=\"text-rainbow pointer\"\n                  href={`/curator/${doDashes(programInfo.organizers[0].name)}`}\n                >\n                  {programInfo.organizers[0].name}\n                </Link>\n              </strong>\n            </div>\n            <div className=\"margin-top\">\n              {!editing && (\n                <div className=\"text-s line-breaks\">\n                  <ReactAutolinker text={programInfo.description} />\n                  <div className=\"margin-top-l text-s line-breaks\">\n                    <strong>Grant Logistics</strong>\n                    <div className=\"margin-top-s line-breaks\">\n                      <ReactAutolinker text={programInfo.logistics} />\n                    </div>\n                  </div>\n                  <div className=\"margin-top text-s\">\n                    <strong>Submission Criteria</strong>\n                    <div className=\"margin-top-s\">\n                      <ReactAutolinker text={programInfo.criteria} />\n                    </div>\n                  </div>\n                </div>\n              )}\n              {editing && (\n                <div>\n                  <div className=\"form__group field\">\n                    <input\n                      type=\"text\"\n                      className=\"form__field\"\n                      placeholder=\"Program Name\"\n                      name=\"name\"\n                      id=\"name\"\n                      required\n                      maxLength=\"100\"\n                      value={programInfo.name}\n                      onChange={(e) =>\n                        setProgram({ ...programInfo, name: e.target.value })\n                      }\n                    />\n                    <label className=\"form__label\">Program Name</label>\n                  </div>\n                  <div className=\"form__group field\">\n                    <input\n                      type=\"text\"\n                      className=\"form__field\"\n                      placeholder=\"Program Name\"\n                      name=\"name\"\n                      id=\"name\"\n                      required\n                      maxLength=\"100\"\n                      value={programInfo.url}\n                      onChange={(e) =>\n                        setProgram({ ...programInfo, url: e.target.value })\n                      }\n                    />\n                    <label className=\"form__label\">URL Permalink</label>\n                  </div>\n                  <div className=\"text-s margin-top-s\">\n                    Program Applicant URL:{\" \"}\n                    {`https://grants.art/apply/${\n                      programInfo.url ? programInfo.url : \"\"\n                    } `}\n                  </div>\n                  <div className=\"form__group field\">\n                    <textarea\n                      type=\"text\"\n                      className=\"form__field intent-field\"\n                      placeholder=\"Intent\"\n                      name=\"intent\"\n                      id=\"intent\"\n                      required\n                      maxLength=\"2000\"\n                      value={programInfo.description}\n                      onChange={(e) =>\n                        setProgram({\n                          ...programInfo,\n                          description: e.target.value,\n                        })\n                      }\n                    />\n                    <label className=\"form__label\">\n                      Program Description (2000 Chars)\n                    </label>\n                  </div>\n                  <div className=\"form__group field\">\n                    <textarea\n                      type=\"text\"\n                      className=\"form__field intent-field\"\n                      placeholder=\"Intent\"\n                      name=\"intent\"\n                      id=\"intent\"\n                      required\n                      maxLength=\"300\"\n                      value={programInfo.tagline}\n                      onChange={(e) =>\n                        setProgram({ ...programInfo, tagline: e.target.value })\n                      }\n                    />\n                    <label className=\"form__label\">\n                      Program Tagline (Home Page)\n                    </label>\n                  </div>\n                  <div className=\"form__group field\">\n                    <textarea\n                      type=\"text\"\n                      className=\"form__field intent-field\"\n                      placeholder=\"Intent\"\n                      name=\"intent\"\n                      id=\"intent\"\n                      required\n                      maxLength=\"2000\"\n                      value={programInfo.logistics}\n                      onChange={(e) =>\n                        setProgram({\n                          ...programInfo,\n                          logistics: e.target.value,\n                        })\n                      }\n                    />\n                    <label className=\"form__label\">\n                      Grant Logistics (2000 Chars)\n                    </label>\n                  </div>\n                  <div className=\"form__group field\">\n                    <textarea\n                      type=\"text\"\n                      className=\"form__field intent-field\"\n                      placeholder=\"Intent\"\n                      name=\"intent\"\n                      id=\"intent\"\n                      required\n                      maxLength=\"2000\"\n                      value={programInfo.criteria}\n                      onChange={(e) =>\n                        setProgram({ ...programInfo, criteria: e.target.value })\n                      }\n                    />\n                    <label className=\"form__label\">\n                      Applicant Criteria (2000 Chars)\n                    </label>\n                  </div>\n                  <div className=\"form__group field\">\n                    <input\n                      type=\"text\"\n                      className=\"form__field\"\n                      placeholder=\"Intent\"\n                      name=\"intent\"\n                      id=\"intent\"\n                      required\n                      maxLength=\"50\"\n                      value={programInfo.passcode}\n                      onChange={(e) =>\n                        setProgram({\n                          ...programInfo,\n                          passcode: e.target.value,\n                          isProtected: e.target.value ? true : false,\n                        })\n                      }\n                    />\n                    <label className=\"form__label\">\n                      Secret phrase to submit (Optional)\n                    </label>\n                  </div>\n                  <div className=\"margin-top-s text-s\">\n                    <strong>Submissions Open Time</strong>\n                    <br />\n                    {programInfo.open\n                      ? moment(programInfo.open).format(\"ddd MMM Do h:mm A\")\n                      : \"\"}\n                  </div>\n                  <div className=\"margin-top-xs\">\n                    <input\n                      type=\"submit\"\n                      value=\"Set Open Date\"\n                      className=\"small-button\"\n                      onClick={() => setShowStartDate(true)}\n                    />\n                  </div>\n                  <div className=\"margin-top-s text-s\">\n                    <strong>Submissions Close Time</strong>\n                    <br />\n                    {programInfo.close\n                      ? moment(programInfo.close).format(\"ddd MMM Do h:mm A\")\n                      : \"\"}\n                  </div>\n                  <div className=\"margin-top-xs\">\n                    <input\n                      type=\"submit\"\n                      value=\"Set Close Date\"\n                      className=\"small-button\"\n                      onClick={() => setShowEndDate(true)}\n                    />\n                  </div>\n                  {updateErr && (\n                    <div className=\"margin-top text-s text-err\">\n                      {updateErr}\n                    </div>\n                  )}\n                  {programSubmitting && (\n                    <div className=\"margin-top text-s text-grey\">\n                      Your program is being updated..\n                    </div>\n                  )}\n                  {!programSubmitting && (\n                    <div>\n                      <input\n                        type=\"submit\"\n                        value=\"Cancel\"\n                        className=\"submit-button\"\n                        onClick={() => setEditing(false)}\n                      />\n                      &nbsp;\n                      <input\n                        type=\"submit\"\n                        value=\"Update Program\"\n                        className=\"submit-button\"\n                        onClick={(e) => updateProgram(e)}\n                      />\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n        {!applied ? (\n          <div>\n            <div className=\"margin-top text-l\">Art Submission Form</div>\n            {program === \"genesis\" && (\n              <div>\n                <div className=\"text-s margin-top form__title\">\n                  Have you sold your own NFT before?\n                </div>\n                <div className=\"select-dropdown margin-top-minus\">\n                  <select\n                    name=\"Mint\"\n                    className=\"text-black\"\n                    defaultValue={dropdownDefault}\n                    value={dropdownDefault}\n                    required\n                    onChange={(e) =>\n                      setData({ ...data, minted: e.target.value })\n                    }\n                  >\n                    <option value=\"default\" disabled hidden>\n                      Select an option\n                    </option>\n                    <option value=\"false\">No</option>\n                    <option value=\"true\">Yes</option>\n                  </select>\n                </div>\n              </div>\n            )}\n            {programInfo && programInfo.isProtected && (\n              <div className=\"form__group field\">\n                <input\n                  type=\"text\"\n                  className=\"form__field\"\n                  placeholder=\"Name\"\n                  name=\"name\"\n                  id=\"name\"\n                  maxLength=\"100\"\n                  onChange={(e) =>\n                    setData({ ...data, passcode: e.target.value })\n                  }\n                />\n                <label className=\"form__label\">Secret Phrase</label>\n              </div>\n            )}\n            <div className=\"form__group field\">\n              <textarea\n                type=\"text\"\n                className=\"form__field intent-field\"\n                placeholder=\"Intent\"\n                name=\"intent\"\n                id=\"intent\"\n                required\n                maxLength=\"2000\"\n                onChange={(e) =>\n                  setData({ ...data, statement: e.target.value })\n                }\n              />\n              <label className=\"form__label\">\n                Statement of Intent (2000 chars)\n              </label>\n            </div>\n            <div className=\"form__group field\">\n              <textarea\n                type=\"text\"\n                className=\"form__field intent-field\"\n                placeholder=\"Additional\"\n                name=\"additional\"\n                id=\"additional\"\n                maxLength=\"2000\"\n                onChange={(e) =>\n                  setData({ ...data, additional: e.target.value })\n                }\n              />\n              <label className=\"form__label\">\n                Additional Information (Optional 2000 chars)\n              </label>\n            </div>\n            <div className=\"form__group field\">\n              <input\n                type=\"text\"\n                className=\"form__field\"\n                placeholder=\"Name\"\n                name=\"name\"\n                id=\"name\"\n                maxLength=\"100\"\n                onChange={(e) => setData({ ...data, title: e.target.value })}\n              />\n              <label className=\"form__label\">Artwork Title</label>\n            </div>\n            <div className=\"form__group field\">\n              <textarea\n                type=\"text\"\n                className=\"form__field intent-field\"\n                placeholder=\"Description\"\n                name=\"description\"\n                id=\"description\"\n                maxLength=\"1000\"\n                onChange={(e) =>\n                  setData({ ...data, description: e.target.value })\n                }\n              />\n              <label className=\"form__label\">Artwork Description</label>\n            </div>\n            <div className=\"form__group field\">\n              <input\n                type=\"text\"\n                className=\"form__field\"\n                placeholder=\"Name\"\n                name=\"name\"\n                id=\"name\"\n                maxLength=\"100\"\n                onChange={(e) => setData({ ...data, canvas: e.target.value })}\n              />\n              <label className=\"form__label\">\n                Tools Used (e.g. C4D, Octane)\n              </label>\n            </div>\n            <div className=\"form__group field\">\n              <label className=\"file__label\">\n                Art Submission (JPG, PNG, GIF, WEBP, or MP4 - Max 77MB)\n              </label>\n              <input\n                type=\"file\"\n                className=\"form__field\"\n                placeholder=\"Artwork\"\n                name=\"artwork\"\n                id=\"name\"\n                accept=\"image/jpeg, image/png, image/gif, image/webp, video/mp4\"\n                required\n                onChange={(e) => uploadHandler(e.target)}\n              />\n            </div>\n            <div className=\"margin-top-l\">Submission Preview</div>\n            {user && (\n              <div className=\"margin-top gallery-container full-width\">\n                {!small && (\n                  <div className=\"gallery-description\">\n                    <div className=\"text-s\">\n                      <div className=\"gallery-plate metal linear\">\n                        <div className=\"text-s\">\n                          <strong>\n                            {user.user.artistName || \"Missing Artist Name\"}\n                          </strong>\n                          <br />\n                          {user.user.country || \"Missing Country\"}{\" \"}\n                          {`(b. ${\n                            user.user.birthYear || \"Missing Birth Year\"\n                          })`}\n                        </div>\n                        <div className=\"margin-top-s text-s text-b\">\n                          <strong>\n                            <i>{data.title || \"Missing Art Title\"}</i>\n                          </strong>\n                          , 2021\n                          <br />\n                          {/* { data.ext } as NFT */}\n                          <div className=\"text-xs\">{data.canvas}</div>\n                        </div>\n                        <div className=\"margin-top-s text-xs\">\n                          {data.description || \"Missing Description\"}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n                {data.art && (\n                  <div\n                    className={`flex-full center ${\n                      small\n                        ? \"gallery-frame-container-small\"\n                        : \"gallery-frame-container\"\n                    }`}\n                  >\n                    <div className=\"frame gallery-art-container\">\n                      <div className=\"frame-shadow\">\n                        {data.ext === \"mp4\" || data.ext === \"mov\" ? (\n                          <video\n                            muted\n                            loop\n                            autoPlay\n                            webkit-playsinline=\"true\"\n                            playsInline\n                            className=\"gallery-art\"\n                            key={data.key}\n                          >\n                            <source src={data.art} />\n                            Sorry, your browser doesn't support embedded videos.\n                          </video>\n                        ) : (\n                          <img className=\"gallery-art\" src={data.art} />\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                )}\n                {small && (\n                  <div className=\"margin-top gallery-description\">\n                    <div className=\"text-s\">\n                      <div className=\"gallery-plate metal linear\">\n                        <div className=\"text-s\">\n                          <strong>{user.user.artistName}</strong>\n                          <br />\n                          {user.user.country}{\" \"}\n                          {user.user.birthYear && `(b. ${user.user.birthYear})`}\n                        </div>\n                        <div className=\"margin-top-s text-s text-b\">\n                          <strong>\n                            <i>{data.title || \"Untitled\"}</i>\n                          </strong>\n                          , 2021\n                          <br />\n                          {/* { data.ext } as NFT */}\n                          <div className=\"text-xs\">{data.canvas}</div>\n                        </div>\n                        <div className=\"margin-top-s text-xs\">\n                          {data.description}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n            {err && <div className=\"margin-top text-s text-err\">{err}</div>}\n            {submitting && !submitted && (\n              <div className=\"margin-top text-s text-grey\">\n                Your artwork is being submitted..\n              </div>\n            )}\n            {submitted && (\n              <div className=\"margin-top text-s text-rainbow\">\n                Thank you for submitting your artwork!\n                <br />\n                The curation team is excited to check out your submission :)\n              </div>\n            )}\n            <div>\n              {!user && (\n                <Link href=\"/login\" className=\"margin-top text-mid text-grey\">\n                  You must be logged in to submit an artwork\n                </Link>\n              )}\n              {user &&\n                auth &&\n                (!auth.wallet ||\n                  !user.user.emailVerified ||\n                  !user.user.artistName ||\n                  !user.user.city ||\n                  !user.user.country ||\n                  !user.user.twitter ||\n                  !user.user.website) && (\n                  <Link\n                    href=\"/account\"\n                    className=\"margin-top text-mid text-grey\"\n                  >\n                    You must complete your user profile and verify wallet &\n                    email to submit an artwork\n                  </Link>\n                )}\n            </div>\n            {programInfo &&\n              !submitting &&\n              !submitted &&\n              user &&\n              new Date() > new Date(programInfo.open) &&\n              new Date() < new Date(programInfo.close) && (\n                <input\n                  type=\"submit\"\n                  value=\"Submit Artwork\"\n                  className=\"submit-button\"\n                  onClick={() => preSubmit()}\n                />\n              )}\n          </div>\n        ) : (\n          <div>\n            <div className=\"margin-top-l\">Art Submission</div>\n            {applied.published ? (\n              <div className=\"margin-top\">\n                <Link\n                  href={`/${programInfo.url}/${applied.order}`}\n                  className=\"text-rainbow\"\n                >\n                  Minted In Exhibition\n                </Link>\n              </div>\n            ) : (\n              <div className=\"margin-top text-mid\">\n                Status:{\" \"}\n                {applied.finalized ? \"Deferred\" : \"Pending Curation Review\"}\n              </div>\n            )}\n            <div className=\"margin-top gallery-container full-width\">\n              {!small && (\n                <div className=\"gallery-description\">\n                  <div className=\"text-s\">\n                    <div className=\"gallery-plate metal linear\">\n                      <div className=\"text-s\">\n                        <strong>{user.user.artistName}</strong>\n                        <br />\n                        {user.user.country}{\" \"}\n                        {user.user.birthYear && `(b. ${user.user.birthYear})`}\n                      </div>\n                      <div className=\"margin-top-s text-s text-b\">\n                        <strong>\n                          <i>{applied.title || \"Untitled\"}</i>\n                        </strong>\n                        , 2021\n                        <br />\n                        {applied.canvas ? (\n                          <div className=\"text-xs\">{applied.canvas}</div>\n                        ) : (\n                          <div>\n                            {applied.art.split(\".\")[1].toUpperCase()} as NFT\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"margin-top-s text-xs\">\n                        {applied.description}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {applied.art && (\n                <div\n                  className={`flex-full center ${\n                    small\n                      ? \"gallery-frame-container-small\"\n                      : \"gallery-frame-container\"\n                  }`}\n                >\n                  <div className=\"frame gallery-art-container\">\n                    <div className=\"frame-shadow\">\n                      {applied.art.split(\".\")[1] === \"mp4\" ||\n                      applied.art.split(\".\")[1] === \"mov\" ? (\n                        <video\n                          muted\n                          loop\n                          autoPlay\n                          webkit-playsinline=\"true\"\n                          playsInline\n                          className=\"gallery-art\"\n                        >\n                          <source\n                            src={`https://cdn.grants.art/${applied.art}`}\n                          />\n                          Sorry, your browser doesn't support embedded videos.\n                        </video>\n                      ) : (\n                        <img\n                          className=\"gallery-art\"\n                          src={`https://cdn.grants.art/${applied.art}`}\n                        />\n                      )}\n                    </div>\n                  </div>\n                </div>\n              )}\n              {small && (\n                <div className=\"margin-top gallery-description\">\n                  <div className=\"text-s\">\n                    <div className=\"gallery-plate metal linear\">\n                      <div className=\"text-s\">\n                        <strong>{user.user.artistName}</strong>\n                        <br />\n                        {user.user.country}{\" \"}\n                        {user.user.birthYear && `(b. ${user.user.birthYear})`}\n                      </div>\n                      <div className=\"margin-top-s text-s text-b\">\n                        <strong>\n                          <i>{applied.title || \"Untitled\"}</i>\n                        </strong>\n                        , 2021\n                        <br />\n                        {applied.canvas ? (\n                          <div className=\"text-xs\">{applied.canvas}</div>\n                        ) : (\n                          <div>\n                            {applied.art.split(\".\")[1].toUpperCase()} as NFT\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"margin-top-s text-xs\">\n                        {applied.description}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n        {programInfo && (\n          <div className=\"margin-top text-mid\">\n            <em>\n              {new Date() > new Date(programInfo.open) &&\n                new Date() < new Date(programInfo.close) && (\n                  <div>\n                    Submissions are open until{\" \"}\n                    {moment(programInfo.close).format(\"ddd MMM Do h:mm A\")}\n                  </div>\n                )}\n              {new Date() < new Date(programInfo.open) &&\n                new Date() < new Date(programInfo.close) && (\n                  <div>\n                    Submissions will open{\" \"}\n                    {moment(programInfo.open).format(\"ddd MMM Do h:mm A\")} and\n                    close{\" \"}\n                    {moment(programInfo.close).format(\"ddd MMM Do h:mm A\")}\n                  </div>\n                )}\n              {new Date() > new Date(programInfo.close) && (\n                <div>Submissions are closed</div>\n              )}\n            </em>\n          </div>\n        )}\n        <br />\n      </div>\n    </div>\n  );\n}\n\nconst monthMap = {\n  \"1\": \"Jan\",\n  \"2\": \"Feb\",\n  \"3\": \"Mar\",\n  \"4\": \"Apr\",\n  \"5\": \"May\",\n  \"6\": \"Jun\",\n  \"7\": \"Jul\",\n  \"8\": \"Aug\",\n  \"9\": \"Sep\",\n  \"10\": \"Oct\",\n  \"11\": \"Nov\",\n  \"12\": \"Dec\",\n};\n\nconst dateConfig = {\n  month: {\n    format: (value) => monthMap[value.getMonth() + 1],\n    caption: \"Month\",\n    step: 1,\n  },\n  date: {\n    format: \"DD\",\n    caption: \"Day\",\n    step: 1,\n  },\n  hour: {\n    format: \"hh\",\n    caption: \"Hour\",\n    step: 1,\n  },\n};\n"]},"metadata":{},"sourceType":"module"}