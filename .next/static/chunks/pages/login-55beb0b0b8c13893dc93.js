(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{16071:function(e,t,r){"use strict";var n=r(62426),a=n(r(53848)),o=n(r(87917)),c=r(69448);t.default=void 0;var s=c(r(67294)),u=r(11689),l=r(72441),i=r(75749),f={};function p(e,t,r,n){if(e&&(0,u.isLocalURL)(t)){e.prefetch(t,r,n).catch((function(e){0}));var a=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;f[t+"%"+r+(a?"%"+a:"")]=!0}}var d=function(e){var t=!1!==e.prefetch,r=(0,l.useRouter)(),n=r&&r.pathname||"/",c=s.default.useMemo((function(){var t=(0,u.resolveHref)(n,e.href,!0),r=(0,a.default)(t,2),o=r[0],c=r[1];return{href:o,as:e.as?(0,u.resolveHref)(n,e.as):c||o}}),[n,e.href,e.as]),d=c.href,m=c.as,v=e.children,g=e.replace,h=e.shallow,b=e.scroll,E=e.locale;"string"===typeof v&&(v=s.default.createElement("a",null,v));var y=s.Children.only(v),w=y&&"object"===(0,o.default)(y)&&y.ref,_=(0,i.useIntersection)({rootMargin:"200px"}),O=(0,a.default)(_,2),N=O[0],L=O[1],x=s.default.useCallback((function(e){N(e),w&&("function"===typeof w?w(e):"object"===(0,o.default)(w)&&(w.current=e))}),[w,N]);(0,s.useEffect)((function(){var e=L&&t&&(0,u.isLocalURL)(d),n="undefined"!==typeof E?E:r&&r.locale,a=f[d+"%"+m+(n?"%"+n:"")];e&&!a&&p(r,d,m,{locale:n})}),[m,d,L,E,t,r]);var j={ref:x,onClick:function(e){y.props&&"function"===typeof y.props.onClick&&y.props.onClick(e),e.defaultPrevented||function(e,t,r,n,a,o,c,s){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,u.isLocalURL)(r))&&(e.preventDefault(),null==c&&(c=n.indexOf("#")<0),t[a?"replace":"push"](r,n,{shallow:o,locale:s,scroll:c}))}(e,r,d,m,g,h,b,E)},onMouseEnter:function(e){(0,u.isLocalURL)(d)&&(y.props&&"function"===typeof y.props.onMouseEnter&&y.props.onMouseEnter(e),p(r,d,m,{priority:!0}))}};if(e.passHref||"a"===y.type&&!("href"in y.props)){var k="undefined"!==typeof E?E:r&&r.locale,P=r&&r.isLocaleDomain&&(0,u.getDomainLocale)(m,k,r&&r.locales,r&&r.domainLocales);j.href=P||(0,u.addBasePath)((0,u.addLocale)(m,k,r&&r.defaultLocale))}return s.default.cloneElement(y,j)};t.default=d},75749:function(e,t,r){"use strict";var n=r(62426)(r(53848));t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,r=e.disabled||!c,u=(0,a.useRef)(),l=(0,a.useState)(!1),i=(0,n.default)(l,2),f=i[0],p=i[1],d=(0,a.useCallback)((function(e){u.current&&(u.current(),u.current=void 0),r||f||e&&e.tagName&&(u.current=function(e,t,r){var n=function(e){var t=e.rootMargin||"",r=s.get(t);if(r)return r;var n=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return s.set(t,r={id:t,observer:a,elements:n}),r}(r),a=n.id,o=n.observer,c=n.elements;return c.set(e,t),o.observe(e),function(){c.delete(e),o.unobserve(e),0===c.size&&(o.disconnect(),s.delete(a))}}(e,(function(e){return e&&p(e)}),{rootMargin:t}))}),[r,t,f]);return(0,a.useEffect)((function(){if(!c&&!f){var e=(0,o.requestIdleCallback)((function(){return p(!0)}));return function(){return(0,o.cancelIdleCallback)(e)}}}),[f]),[d,f]};var a=r(67294),o=r(98391),c="undefined"!==typeof IntersectionObserver;var s=new Map},76133:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(96156),a=r(34699),o=r(67294),c=r(1876),s=r(5977),u=r(80516),l=r(41664);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(){var e=(0,u.WX)((function(e){return e.user.setAuth})),t=(0,u.Kw)((function(e){return e.user.auth})),r=(0,s.k6)();t&&t.username&&r.push("/");var n=(0,o.useState)({username:"",password:"",submitting:!1}),i=(0,a.Z)(n,2),p=i[0],d=i[1],m=(0,o.useState)(!1),v=(0,a.Z)(m,2),g=v[0],h=v[1],b=(0,o.useState)(!1),E=(0,a.Z)(b,2),y=E[0],w=(E[1],(0,o.useState)(!1)),_=(0,a.Z)(w,2),O=_[0],N=_[1],L=(0,o.useState)(!1),x=(0,a.Z)(L,2),j=x[0],k=x[1];return o.createElement("div",{className:"content-block"},j&&o.createElement(s.l_,{href:"/"}),o.createElement("div",{className:"text-l text-b"},"User Login"),o.createElement("div",{className:"margin-top"},o.createElement("form",{onSubmit:function(t){t.preventDefault(),N(!1),h(!0),fetch("".concat((0,c.J)(),"/loginUser"),{method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t&&t.username?(e(t),k(!0)):(h(!1),N("Your login credentials were incorrect"))}))}},o.createElement("div",{className:"form__group field"},o.createElement("input",{type:"text",className:"form__field",placeholder:"Username",name:"username",id:"username",required:!0,maxLength:"100",onChange:function(e){return d(f(f({},p),{},{username:e.target.value}))}}),o.createElement("label",{className:"form__label"},"Username or Email")),o.createElement("div",{className:"form__group field"},o.createElement("input",{type:"password",className:"form__field",placeholder:"Password",name:"password",id:"password",maxLength:"100",required:!0,onChange:function(e){return d(f(f({},p),{},{password:e.target.value}))}}),o.createElement("label",{className:"form__label"},"Password")),O&&o.createElement("div",{className:"margin-top-s text-s text-err"},O),!g||y||j?o.createElement("div",null,o.createElement("input",{type:"submit",value:"Log In",className:"submit-button"}),"\xa0\xa0\xa0or\xa0\xa0",o.createElement(l.default,{href:"/register"},o.createElement("a",{href:"/register",className:"text-m text-grey pointer"},"Register an Account")),o.createElement("br",null),o.createElement(l.default,{href:"/forgotpassword"},o.createElement("a",{href:"/forgotpassword",className:"margin-top text-s text-grey pointer"},"Forgot your password?"))):o.createElement("div",{className:"margin-top-s text-s text-grey"},"Logging in.."))))}},1876:function(e,t,r){"use strict";r.d(t,{J:function(){return o}});var n=r(34155),a="prod";function o(){return"dev"===a?"http://localhost:3000/api":"prod"===a?"https://269b2a7bc089.ngrok.io/api":void 0}n&&n.env},7156:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(76133)}])},41664:function(e,t,r){e.exports=r(16071)}},function(e){e.O(0,[774,518,666,433,246],(function(){return t=7156,e(e.s=t);var t}));var t=e.O();_N_E=t}]);