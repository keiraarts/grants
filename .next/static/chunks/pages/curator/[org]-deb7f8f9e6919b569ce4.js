(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{50676:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},34699:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(82961);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){o=!0,a=c}finally{try{l||null==r.return||r.return()}finally{if(o)throw a}}return i}}(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},82961:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(50676);function a(e,t){if(e){if("string"===typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}},1750:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return g},default:function(){return p}});var n=r(96156),a=r(34699),i=r(67294),l=r(1876),o=r(19549),c=r.n(o),s=r(93395),u=r(80516);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=!0;function p(e){var t=(0,u.Kw)((function(e){return e.user.auth})),r=(0,i.useState)(e.org),n=(0,a.Z)(r,2),o=n[0],m=n[1],g=(0,i.useState)(!1),p=(0,a.Z)(g,2),d=p[0],h=p[1],v=(0,i.useState)(!1),b=(0,a.Z)(v,2),E=b[0],y=b[1],_=(0,i.useState)(!1),N=(0,a.Z)(_,2),w=N[0],x=N[1],O=!1;return o&&(O=t&&o.admins.findIndex((function(e){return e===t.id}))>=0),i.createElement("div",{className:"content-block"},i.createElement("div",null,o&&i.createElement("div",null,O&&i.createElement("div",{className:"flex"},i.createElement("div",{className:"flex-full"}),i.createElement("div",{className:"text-s center text-grey pointer",onClick:function(){return h(!0)}},"Edit Page")),i.createElement("div",{className:"flex text-l center"},o.logo&&!o.ext&&i.createElement("div",{className:"page-logo-c"},i.createElement("img",{className:"page-logo",src:"https://cdn.grants.art/".concat(o.logo)})),o.logo&&o.ext&&i.createElement("div",{className:"page-logo-c"},i.createElement("img",{className:"page-logo",src:o.logo})),!o.logo&&i.createElement("div",null,o.name)),i.createElement("div",{className:"margin-top"},!d&&i.createElement("div",{className:"line-breaks"},i.createElement("div",{className:"flex center"},o.website&&i.createElement("a",{href:o.website},i.createElement("img",{src:"/assets/website.png",className:"social-icon-web pointer",alt:"Website"})),o.twitter&&i.createElement("a",{href:"https://twitter.com/".concat(o.twitter)},i.createElement("img",{src:"assets/twitter.png",className:"social-icon",alt:"Twitter"})),o.instagram&&i.createElement("a",{href:"https://instagram.com/".concat(o.instagram)},i.createElement("img",{src:"assets/instagram.png",className:"social-icon",alt:"Instagram"})),o.email&&i.createElement("a",{href:"mailto:".concat(o.email)},i.createElement("img",{src:"assets/email.png",className:"social-icon",alt:"Email"}))),i.createElement("div",{className:"margin-top-s"},i.createElement("strong",null,"About ",o.logo?o.name:"")),i.createElement("div",{className:"margin-top-s text-s line-breaks"},i.createElement(c(),{text:o.about}))),d&&i.createElement("form",{onSubmit:function(e){e.preventDefault(),o.name&&o.about?(x(!1),y(!0),fetch("".concat((0,l.J)(),"/program/updateOrg"),{method:"POST",body:JSON.stringify(f(f({},o),{},{logo:o.ext?o.logo:void 0})),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t.token}}).then((function(e){return e.json()})).then((function(e){e.success?(h(!1),y(!1),history.push("/curator/".concat((0,s.Z)(o.name)))):x(e.error)}))):x("Please fill out all required fields")}},i.createElement("div",{className:"form__group field"},i.createElement("input",{type:"text",className:"form__field",placeholder:"Organizer Name",name:"organizer",id:"organizer",required:!0,maxLength:"100",value:o.name,onChange:function(e){return m(f(f({},o),{},{name:e.target.value}))}}),i.createElement("label",{className:"form__label"},"Program Curator / Organization Name")),i.createElement("div",{className:"text-s margin-top-s"},"Curator URL:"," ","https://grants.art/".concat(o.name?(0,s.Z)(o.name):""," ")),i.createElement("div",{className:"form__group field"},i.createElement("textarea",{type:"text",className:"form__field intent-field",placeholder:"Intent",name:"intent",id:"intent",required:!0,maxLength:"4000",value:o.about,onChange:function(e){return m(f(f({},o),{},{about:e.target.value}))}}),i.createElement("label",{className:"form__label"},"About")),i.createElement("div",{className:"form__group field"},i.createElement("input",{type:"email",className:"form__field",placeholder:"Email",name:"email",id:"email",maxLength:"100",value:o.email,onChange:function(e){return m(f(f({},o),{},{email:e.target.value}))}}),i.createElement("label",{className:"form__label"},"Public / Contact Email*")),i.createElement("div",{className:"form__group field"},i.createElement("label",{className:"file__label"},"Logo (JPG, PNG, GIF - Max 5MB)"),i.createElement("input",{type:"file",className:"form__field",placeholder:"Artwork",name:"artwork",id:"name",accept:"image/jpeg, image/png, image/gif",onChange:function(e){return function(e){x(!1);var t,r=e.files[0],n=new FileReader,a=e.value.substr(e.value.length-3).toLowerCase();n.readAsDataURL(r),n.onload=function(){"jpg"!==a&&"jpeg"!==a||(t="image/jpeg"),"png"===a&&(t="image/png"),"gif"===a&&(t="image/gif"),r.size<7e6?t?m(f(f({},o),{},{logo:n.result,ext:a})):x("File type unsupported"):x("File size too large")}}(e.target)}})),i.createElement("div",{className:"form__group field"},i.createElement("input",{type:"url",className:"form__field",placeholder:"URL",name:"url",id:"url",maxLength:"100",value:o.website,onChange:function(e){return m(f(f({},o),{},{website:e.target.value}))}}),i.createElement("label",{className:"form__label"},"Website*")),i.createElement("div",{className:"form__group field"},i.createElement("input",{type:"text",className:"form__field",placeholder:"Twitter",name:"twitter",id:"twitter",maxLength:"100",value:o.twitter,onChange:function(e){return m(f(f({},o),{},{twitter:e.target.value}))}}),i.createElement("label",{className:"form__label"},"Twitter*")),i.createElement("div",{className:"text-s"},"@",o.twitter),i.createElement("div",{className:"form__group field"},i.createElement("input",{type:"text",className:"form__field",placeholder:"Instagram",name:"instagram",id:"instagram",maxLength:"100",value:o.instagram,onChange:function(e){return m(f(f({},o),{},{instagram:e.target.value}))}}),i.createElement("label",{className:"form__label"},"Instagram*")),i.createElement("div",{className:"text-s"},"@",o.instagram),w&&i.createElement("div",{className:"margin-top text-s text-err"},w),E&&i.createElement("div",{className:"margin-top text-s text-grey"},"Your program is being updated.."),!E&&i.createElement("div",null,i.createElement("input",{type:"submit",value:"Cancel",className:"submit-button",onClick:function(){return h(!1)}}),"\xa0",i.createElement("input",{type:"submit",value:"Update Profile",className:"submit-button"})))))))}},1876:function(e,t,r){"use strict";r.d(t,{J:function(){return i}});var n=r(34155),a="prod";function i(){return"dev"===a?"http://localhost:3000/api":"prod"===a?"https://269b2a7bc089.ngrok.io/api":void 0}n&&n.env},93395:function(e,t,r){"use strict";function n(e){return(e=e.replace(/[^a-z0-9]+/gi,"-")).replace(/^-*|-*$/g,"").toLowerCase()}r.d(t,{Z:function(){return n}})},74997:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/curator/[org]",function(){return r(1750)}])},34155:function(e){var t,r,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"===typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var o,c=[],s=!1,u=-1;function m(){s&&o&&(s=!1,o.length?c=o.concat(c):u=-1,c.length&&f())}function f(){if(!s){var e=l(m);s=!0;for(var t=c.length;t;){for(o=c,c=[];++u<t;)o&&o[u].run();u=-1,t=c.length}o=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new g(e,t)),1!==c.length||s||l(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}},function(e){e.O(0,[774,518,549],(function(){return t=74997,e(e.s=t);var t}));var t=e.O();_N_E=t}]);